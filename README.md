# Учебный проект мессенджер BrainTalk

## Правила работы с Git
 
### Жизненный цикл веток

Выделяем три ветки **master, develop, feature**
   
 ```
master
|
|-- develop
| |
| |-- feature
| | |-- WIP 1
| | |-- WIP 2
| | |-- WIP 3
| | |-- (Squash → 1 коммит)
| |
| |-- (Merge feature → develop)
| |-- (Коммит инкремента версии)
|
|-- (Merge develop → master, версия 1.1.0)
 ```

**master** - магистральная ветка в которую сливаются (merge) накопленные доработки ветки develop.
Мастер отражает стабильное состояние, которое выкладывается в прод

**develop** - ветка в которой накапливаются доработки между релизами, от develop делаются ответвления веток feature

**feature** - ветка для реализации отдельно взятой issue
 

### Правила именования веток
     feature/<номер issue>/-<краткое описание>
     Например: feature/12/add-maven-docker-plugin

1. Перед началом работы над задачей для неё должна быть заведена Issue;<br/>
1. Ветка создается с головы **develop**;<br/>
1. В момент слития ветки в develop в ней в большинстве случаев должен быть 1 коммит. Исключение — очень большие задачи.
1. Промежуточные, так называемые, WIP (work in progress) коммиты должны быть склеены (squash)

### Правила формирования текста коммита
  * Сообщение в коммите должно иметь формат **#{issue number} {описание того, что делает коммит}**. Описание должно быть информативным и понятным.
    * Хороший пример: `#10 Исправляет NPE при регистрации пользователя`
    * Хороший пример: `#291 Реализует логику отправки сообщения`
    * Плохой пример: `WIP`
    * Плохой пример: `fix tests`
    * Плохой пример: `fix after review`
  
  Приветствуется дополнительное описание в тексте коммита. Например:

```
#12 Добавляет maven plugin для сборки и публикации docker образа

  Выбираем плагин io.fabric8:docker-maven-plugin:0.45.1, 
  так как это наиболее поддерживаемая библиотека на данный момент
  
```

Дополнительное описание делается строго в формате из примера, то есть должен быть отступ после заголовка
и далее само описание со смещением два пробела.

### Подготовка ветки перед слиянием

1. При наличии WIP коммитов, cделать [squash](docs/git/squash-howto.md);<br/>
2. Поднять ветку над текущим состоянием develop
```
  git fetch
  git rebase origin/develop
```
3. При наличии конфликтов, [разрешаем их](docs/git/conflict-resolving-howto.md)<br/>

